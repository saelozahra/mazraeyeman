!function(e){e.fn.sbCustomSelect=function(){var t=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i),i=navigator.userAgent.match(/Android/i),n=38,s=40,o=32,d=13,r=9,c="",a=function(){var t=e(this),i=t.siblings(".sb-dropdown"),n=t.siblings(".sb-select");n.val(this[this.selectedIndex].innerHTML),i.children().removeClass("selected").filter(":contains("+this[this.selectedIndex].innerHTML+")").addClass("selected")},l=function(t){var i=e(t.target),n=i.closest(".sb-custom").find("option").filter(":contains("+i.text()+")");t.preventDefault(),n[0].selected=!0,i.closest("ul").fadeOut("fast"),n.parent().trigger("change")},u=function(t){var i=t.children(),n=e('<ul class="sb-dropdown"/>');return i.each(function(){n.append('<li><a href="#">'+e(this).text()+"</a></li>")}),n.bind("click",l),n},f=function(t){var i=e(this);b(),i.closest(".sb-custom").find(".sb-dropdown").fadeIn("fast"),t.preventDefault()},h=function(t){e(t.target).closest(".sb-custom").length||e(".sb-dropdown").hide()},g=function(t){var i=e(this),a=i.siblings("ul").find(".selected");return t.keyCode!=n&&t.keyCode!=s&&t.keyCode!=o||!a.is(":hidden")?(t.keyCode==n&&a.prev().length?(t.preventDefault(),a.removeClass("selected"),a.prev().addClass("selected")):t.keyCode==s&&a.next().length&&(t.preventDefault(),a.removeClass("selected"),a.next().addClass("selected")),t.keyCode==d||t.keyCode==o?void a.trigger("click"):(t.keyCode>=48&&t.keyCode<=90&&(c+=String.fromCharCode(t.keyCode),v(t)),void(t.keyCode==r&&a.is(":visible")&&(t.preventDefault(),a.trigger("click"),h(t))))):void a.focus()},v=function(t){e(t.target).siblings("ul").find("a").each(function(){return 0===this.innerHTML.toUpperCase().indexOf(c)?void e(this).trigger("click"):void 0})},b=function(){c=""};return this.each(function(){var n=e(this);n.attr("tabindex",-1).wrap('<div class="sb-custom"/>').after('<input type="text" class="sb-select" readonly="readonly" />').bind("change",a),t||i?n.show().css({display:"block",opacity:0,position:"absolute",width:"100%","z-index":1e3}):n.next().bind("click",f).after(u(n)),n.trigger("change")}),e(document).bind("click",h),e(".sb-custom").find(".sb-select").live("keydown",g),e(".sb-custom").bind("blur",b),e(".sb-dropdown").live("focus",f),this}}(jQuery);