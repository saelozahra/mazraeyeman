!function(t){t.fn.graphTable=function(a,e){var r={series:"columns",labels:0,xaxis:0,firstSeries:1,lastSeries:null,dataStart:1,dataEnd:null,position:"after",width:null,height:null,min:0,max:0,dataTransform:null,labelTransform:null,xaxisTransform:null,colors:null};return t.extend(!0,r,a),r.lastSeries||(r.lastSeries="columns"==r.series?t("tr",t(this)).eq(r.labels).find("th,td").length-1:t("tr",t(this)).length-1),r.dataEnd||(r.dataEnd="rows"==r.series?t("tr",t(this)).eq(r.firstSeries).find("th,td").length-1:t("tr",t(this)).length-1),t(this).each(function(){var a=t(this);if(a.is("table")){r.width||(r.width=a.width()),r.height||(r.height=a.height());var s=r.min,l=r.max,n=t("tr",a),o=new Array;switch(r.series){case"rows":var d=n.eq(r.xaxis);for(i=r.firstSeries;i<=r.lastSeries;i++){var h=new Array;$dataRow=t("tr",a).eq(i);var f=t("th,td",$dataRow).eq(r.labels).text();for(r.labelTransform&&(f=r.labelTransform(f)),j=r.dataStart;j<=r.dataEnd;j++){var x=t("th,td",d).eq(j).text(),m=t("th,td",$dataRow).eq(j).text();r.dataTransform&&(m=r.dataTransform(m)),r.xaxisTransform&&(x=r.xaxisTransform(x)),test_x=parseFloat(x),test_y=parseFloat(m),test_y<s?s=test_y:test_y>l&&(l=test_y),h[h.length]=[x,m]}o[o.length]={label:f,data:h}}break;case"columns":var c=n.eq(r.labels);for(j=r.firstSeries;j<=r.lastSeries;j++){var v=new Array,f=c.find("th,td").eq(j).text();for(r.labelTransform&&(f=r.labelTransform(f)),i=r.dataStart;i<=r.dataEnd;i++){$cell=n.eq(i).find("th,td").eq(j);var m=$cell.text(),x=n.eq(i).find("th,td").eq(r.xaxis).text();r.dataTransform&&(m=r.dataTransform(m)),r.xaxisTransform&&(x=r.xaxisTransform(x)),test_x=parseFloat(x),test_y=parseFloat(m),test_y<s?s=test_y:test_y>l&&(l=test_y),v[v.length]=[x,m]}var g={label:f,data:v};r.colors&&r.colors[j-r.dataStart]&&(g.color=r.colors[j-r.dataStart]),o[o.length]=g}}switch(r.position){case"after":$div=t('<div class="flot-graph" />').insertAfter(a);break;case"replace":$div=t('<div class="flot-graph" />').insertAfter(a),a.remove();break;default:$div=t('<div class="flot-graph" />').insertBefore(a)}var u={yaxis:{min:s,max:l},title:"foo"};$div.width(r.width).height(r.height),t.extend(!0,u,e),t.plot($div,o,u)}})}}(jQuery);